region = "{{ aws_region }}"
project_id = "{{ project_id }}"
project_name = "{{ project_name }}"
source_code_repository = "{{ source_code_repository }}"

{% if source_code_repository == 'github' %}
github_access_token = "{{ github_access_token }}"
github_owner = "{{ github_owner }}"

{% assign app_types = appType | default: "" %}

{% if service_type == 'frontend-service' %}
  {% assign new_app_type = frontend_app_type %}
{% elsif service_type == 'backend-service' %}
  {% assign new_app_type = backend_app_type %}
{% else %}
  {% assign new_app_type = service_type %}
{% endif %}

{% if app_types contains new_app_type %}
  appType = ["{{ app_types }}"]
{% else %}
  {% assign updated_app_types = app_types | append: '", "' | append: new_app_type %}
  appType = ["{{ updated_app_types }}"]
{% endif %}

{% endif %}

{% if domain %}
domain_name = "{{ domain }}"
{% endif %}
