provider "aws" {
    region     = "ap-south-1"
}

terraform {
    backend "s3" {
    }
}

module "vpc" {
  
  for_each = { for idx, name in var.moduleNames : idx => name } # Creates one module instance per moduleName
  source      = "./modules/vpc"
  name        = "${var.project_name}-${var.environment}-${each.value}-vpc"
  environment = var.environment
  cidr       = var.cidr

}
